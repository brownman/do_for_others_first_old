
pull(){
    subject="$1"
    str=`cat $0 | grep "$subject:" | cut -d':' -f2`
    remove_trailing "$str"

}
expose(){
    subject="$1"
    print_color_n 33 "$subject:\t\t"
    pull "$subject"
}

print_func(){
    echo -e "--> ${FUNCNAME[1]}():" >&2
}
print_script(){
    local name=`basename $0`
    echo -e "-----> $name" >&2
}


info(){
    print_func

    expose plugin
    expose help
}

################################### helpers ############################\
    print_color_n()       { echo -en "\x1B[01;$1m[*]\x1B[0m $2 "; }
    print_color()       { echo -e "\x1B[01;$1m[*]\x1B[0m $2 "; }
    remove_trailing(){
        local res=$(echo "$1" | sed -e 's/^ *//g' -e 's/ *$//g')
        echo "$res"
    }
########################################################################/

    reason_of_death(){
        print_func
 #       print_caller 2 
        #help_func: args: who, why
        #idea: reason of death  - random black-joke/sentence from a file
        if [ "$1" ];then
            why="$1"
            print_error "Reason Of Death:"
            echo -e "\twhy:  $why"
            flite "$why"
            if [ $# -gt 1 ];then
                name="$2"
                echo -e "\tname:  $name"
            fi
        else
            flite 'no reason'
        fi
        #echo 'died young' | flite
        exiting
    }
    export -f reason_of_death

    export -f info

    export -f print_func
    export -f print_script
    export -f print_color
    export -f print_color_n
    export -f pull
    export -f expose
    export -f remove_trailing
    export -f reason_of_death


    echo "LOADED: helpers.cfg"
