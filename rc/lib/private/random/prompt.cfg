#help:a  random   bash    prompt
#installing: trap for sigint


export file_list_random=$dir_workspace/lists/random.txt
randomE(){
    echo 'edit random!'
    sleep 1
    if [ -f "$file_list_random" ];then
    gvim $file_list_random &
fi
}
run(){
echo ----------------------------------------
sleep 2
echo press control+c to edit the list of randoms!
echo

num=` wc -l $file_list_random | cut -d' ' -f1`
let 'num+=1'
let "num1 = $RANDOM % $num"
let 'num1+=1'
let "num2 = $RANDOM % $num1"
let 'num2+=1'
cmd="cat -s $file_list_random | head -$num2 | tail -1"
#echo "eval: $cmd"
echo -n "dice:  $num:"
sleep 2
echo -n "$num2"
sleep 2 
echo -n "$num2 rules !!!"
sleep 2


if [ -n "$cmd" ];then
    line=`eval "$cmd"`
    cmd="$line"


#    echo "cmd: . . __${line}__ . ."
    eval "$cmd"


else
    echo "got empty line from: " "$file_list_random"
fi

echo
echo ----------------------------------------


}
run
export -f randomE

