
print_func(){
    echo -e "--> ${FUNCNAME[1]}():" >&2
}
print_script(){
    local name=`basename $0`
    echo -e "-----> $name"  >&2
}

################################### helpers ############################\
    print_color_n()       { echo -en "\x1B[01;$1m[*]\x1B[0m $2 " >&2; }
    print_color()       { echo -e "\x1B[01;$1m[*]\x1B[0m $2 " >&2; }
    remove_trailing(){
        local res=$(echo "$1" | sed -e 's/^ *//g' -e 's/ *$//g')
        echo "$res"
    }
########################################################################/

    reason_of_death(){
        print_func
        trace "args: $@"
 #       print_caller 2 
        #help_func: args: who, why
        #idea: reason of death  - random black-joke/sentence from a file
        if [ $# -gt 0 ];then
            why="$1"
            print_color 31 "Reason Of Death:"
            trace "\twhy:  $why"

            if [ $# -gt 1 ];then
                name="$2"
                trace "\tname:  $name"
            fi

            flite "$why"
        else
            flite 'no reason'
        fi
        #echo 'died young' | flite
        exiting
    }
    exiting(){
        print_func
    exit 1
    }
    

    trace(){
    echo -e "$1" >&2
    }
    export -f trace
    export -f print_func
    export -f print_script
    export -f print_color
    export -f print_color_n
    export -f remove_trailing
    export -f exiting
    export -f reason_of_death


    echo "LOADED: helpers.cfg"
